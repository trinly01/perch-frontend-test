import{d as _,o as s,a,b as e,n as m,t as u,u as f,g as v,h as g,i as b,j as y,c as k,k as w,f as P}from"./index-1778efc5.js";import I from"./NotFound-cebd3338.js";const $={class:"bg-white font-sans"},B={class:"relative"},j={class:"absolute inset-0 flex items-center justify-center"},C={class:"text-2xl font-bold text-white text-shadow-lg relative z-10 p-4 text-center"},N=e("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent to-black"},null,-1),S={class:"p-4 max-w-screen-xl mx-auto"},V=_({__name:"VPost",props:{post:{}},setup(i){const t=i;return(o,c)=>(s(),a("div",$,[e("div",B,[e("div",{class:"h-64 bg-cover bg-center w-screen",style:m(`background-image: url(https://picsum.photos/id/${t.post.id}/500/1024)`)},[e("div",j,[e("h2",C,u(t.post.title),1)])],4),N]),e("p",S,u(t.post.body),1)]))}}),z={key:1,class:"flex items-center justify-center p-4"},D=e("div",null,"Loading...",-1),R=[D],E={key:2,class:"flex items-center justify-center p-4"},M=_({__name:"PostDetail",setup(i){const t=f(),o=v(),c=g(),l=b(!0);y(async()=>{console.log("route.params.id",o.params.id);const r=parseInt(o.params.id.toString());let n=t.posts.findIndex(p=>p.id===r);console.log("currentIndex",n);try{n<0?await t.fetchPostById(r):t.setCurrentIndex(n)}catch{l.value=!1}});const d=k(()=>t.posts[t.currentIndex]||{id:void 0}),x=async()=>{await t.previousPost(),console.log(o),c.push("/post/"+t.posts[t.currentIndex].id)},h=async()=>{await t.nextPost(),c.push("/post/"+t.posts[t.currentIndex].id)};return(r,n)=>(s(),a("div",null,[d.value.id?(s(),w(V,{key:0,post:d.value},null,8,["post"])):l.value?(s(),a("div",z,R)):(s(),a("div",E,[P(I)])),e("div",{class:"p-4 max-w-screen-xl mx-auto"},[e("div",{class:"flex"},[e("button",{onClick:x,class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 mt-4 mr-2"}," Previous Post "),e("button",{onClick:h,class:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 mt-4"}," Next Post ")])])]))}});export{M as default};
