import{d as _,o as e,a,b as s,n as x,t as u,u as f,g as v,h as g,i as b,j as y,c as k,k as P,f as I}from"./index-3906e487.js";import w from"./NotFound-153b741f.js";const $={class:"bg-white font-sans"},B={class:"relative"},j={class:"absolute inset-0 flex items-center justify-center"},C={class:"text-2xl font-bold text-white text-shadow-lg relative z-10"},N=s("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent to-black"},null,-1),S={class:"p-4"},V=_({__name:"VPost",props:{post:{}},setup(i){const t=i;return(o,r)=>(e(),a("div",$,[s("div",B,[s("div",{class:"h-64 bg-cover bg-center",style:x(`background-image: url(https://picsum.photos/id/${t.post.id}/500/1024)`)},[s("div",j,[s("h2",C,u(t.post.title),1)])],4),N]),s("p",S,u(t.post.body),1)]))}}),z={key:1,class:"flex items-center justify-center p-4"},D=s("div",null,"Loading...",-1),R=[D],E={key:2,class:"flex items-center justify-center p-4"},M=_({__name:"PostDetail",setup(i){const t=f(),o=v(),r=g(),l=b(!0);y(async()=>{console.log("route.params.id",o.params.id);const c=parseInt(o.params.id.toString());let n=t.posts.findIndex(p=>p.id===c);console.log("currentIndex",n);try{n<0?await t.fetchPostById(c):t.setCurrentIndex(n)}catch{l.value=!1}});const d=k(()=>t.posts[t.currentIndex]||{id:void 0}),h=async()=>{await t.previousPost(),console.log(o),r.push("/post/"+t.posts[t.currentIndex].id)},m=async()=>{await t.nextPost(),r.push("/post/"+t.posts[t.currentIndex].id)};return(c,n)=>(e(),a("div",null,[d.value.id?(e(),P(V,{key:0,post:d.value},null,8,["post"])):l.value?(e(),a("div",z,R)):(e(),a("div",E,[I(w)])),s("div",{class:"p-4"},[s("button",{onClick:h,class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 mt-4 mr-2"}," Previous Post "),s("button",{onClick:m,class:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 mt-4"}," Next Post ")])]))}});export{M as default};
